<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head><meta name="generator" content="Hexo 3.9.0">
  

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">








  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5">



  
    <link href="//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  


<link rel="stylesheet" type="text/css" href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0">

<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.2">




  <meta name="keywords" content="Hexo,next">





  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2">


<meta property="og:type" content="website">
<meta property="og:title" content="Welcome to My World">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="Welcome to My World">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Welcome to My World">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'always'
  };
</script>



  <title> Welcome to My World </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Welcome to My World</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 
  <section id="posts" class="posts-expand">
    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/04/21/SICP-ex2-2(2)/" itemprop="url">
                  SICP 2.2节习题(2)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-04-21T21:01:07+08:00" content="2016-04-21">
              2016-04-21
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP解题集/" itemprop="url" rel="index">
                    <span itemprop="name">SICP解题集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="第二章-构造数据抽象"><a href="#第二章-构造数据抽象" class="headerlink" title="第二章 构造数据抽象"></a>第二章 构造数据抽象</h1><h2 id="2-2-层次性数据和闭包性质"><a href="#2-2-层次性数据和闭包性质" class="headerlink" title="2.2 层次性数据和闭包性质"></a>2.2 层次性数据和闭包性质</h2><h3 id="EX-2-24"><a href="#EX-2-24" class="headerlink" title="EX 2.24"></a>EX 2.24</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(define 2-24 (list 1 (list 2 (list 3 4))))</span><br></pre></td></tr></table></figure>

<p>解释器打印出：</p>
<pre><code>(1 (2 (3 4)))</code></pre><p>盒子指针结构：</p>
<p><img src="/images/ex2-24.jpg" alt="“ex2-24”"></p>
<h3 id="EX-2-25"><a href="#EX-2-25" class="headerlink" title="EX 2.25"></a>EX 2.25</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(define a1 (list 1 3 (cons 5 7) 9))</span><br><span class="line">(define 2-25-1</span><br><span class="line">  (cdr (car (cdr (cdr a1)))))	;(cdr (car (cdr (cdr a1)))) 等价于 (cdaddr a1)</span><br><span class="line"></span><br><span class="line">(define a2 (list (list 7)))</span><br><span class="line">(define 2-25-2</span><br><span class="line">  (car (car a2)))	;(car (car a2)) 等价于 (caar a2)</span><br><span class="line"></span><br><span class="line">(define a3 (list 1 (list 2 (list 3 (list 4 (list 5 (list 6 7)))))))</span><br><span class="line">(define 2-25-3</span><br><span class="line">  (car (cdr (car (cdr (car (cdr (car (cdr (car (cdr (car (cdr a3)))))))))))))	;等价于 (cadadr (cadadr (cadadr a3)))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-26"><a href="#EX-2-26" class="headerlink" title="EX 2.26"></a>EX 2.26</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(define x (list 1 2 3))</span><br><span class="line">(define y (list 4 5 6))</span><br></pre></td></tr></table></figure>

<p>打印结果如下：</p>
<pre><code>(append x y) -&gt; (1 2 3 4 5 6)
(cons x y) -&gt; ((1 2 3) 4 5 6)
(list x y) -&gt; ((1 2 3) (4 5 6))</code></pre><h3 id="EX-2-27"><a href="#EX-2-27" class="headerlink" title="EX 2.27"></a>EX 2.27</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;原始reverse</span><br><span class="line">(define (reverse x)</span><br><span class="line">  (define (iter rest result)</span><br><span class="line">    (if (null? rest)</span><br><span class="line">        result</span><br><span class="line">        (iter (cdr rest) (cons (car rest) result))))</span><br><span class="line">  (iter x &apos;()))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">;处理二叉树、三叉树等,如(list (list 2 1) (list 4 3) (list 6 5))</span><br><span class="line">(define (deep-reverse x)</span><br><span class="line">  (define (iter rest result)</span><br><span class="line">    (if (null? rest)</span><br><span class="line">        result</span><br><span class="line">        (iter (cdr rest)</span><br><span class="line">              (cons (if (pair? (car rest))</span><br><span class="line">                        (deep-reverse (car rest))</span><br><span class="line">                        (car rest))</span><br><span class="line">                    result))))</span><br><span class="line">  (iter x &apos;()))</span><br><span class="line"></span><br><span class="line">;一种更好的算法</span><br><span class="line">(define (better-deep-reverse x)</span><br><span class="line">  (if (pair? x)</span><br><span class="line">      (reverse (map better-deep-reverse x))</span><br><span class="line">      x))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-28"><a href="#EX-2-28" class="headerlink" title="EX 2.28"></a>EX 2.28</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(define (fringe x)</span><br><span class="line">  (cond ((null? x) &apos;())</span><br><span class="line">        ((not (pair? x)) (list x))</span><br><span class="line">        (else (append (fringe (car x))	    ;left branch</span><br><span class="line">                      (fringe (cdr x))))))	;right branch</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-29"><a href="#EX-2-29" class="headerlink" title="EX 2.29"></a>EX 2.29</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">;原始构造函数</span><br><span class="line">(define (make-mobile left right)</span><br><span class="line">  (list left right))</span><br><span class="line">(define (make-branch length structure)</span><br><span class="line">  (list length structure))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">;测试程序</span><br><span class="line">(define lfbran (make-branch 1 2))</span><br><span class="line">(define rtbran (make-branch 2 (make-mobile (make-branch 3 4) (make-branch 5 6))))</span><br><span class="line">(define test-mobile (make-mobile lfbran rtbran))</span><br></pre></td></tr></table></figure>

<h4 id="a-根据原始构造函数，不难写出选择函数"><a href="#a-根据原始构造函数，不难写出选择函数" class="headerlink" title="a) 根据原始构造函数，不难写出选择函数"></a>a) 根据原始构造函数，不难写出选择函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(define (left-branch mobile)</span><br><span class="line">  (car mobile))</span><br><span class="line">(define (right-branch mobile)</span><br><span class="line">  (cadr mobile))</span><br><span class="line">(define (branch-length branch)</span><br><span class="line">  (car branch))</span><br><span class="line">(define (branch-structure branch)</span><br><span class="line">  (cadr branch))</span><br></pre></td></tr></table></figure>

<h4 id="b-total-weight-计算活动体总重量，递归地求和左右分支的总重量"><a href="#b-total-weight-计算活动体总重量，递归地求和左右分支的总重量" class="headerlink" title="b) total-weight 计算活动体总重量，递归地求和左右分支的总重量"></a>b) total-weight 计算活动体总重量，递归地求和左右分支的总重量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(define (total-weight mobile)</span><br><span class="line">  (+ (branch-weight (left-branch mobile))</span><br><span class="line">     (branch-weight (right-branch mobile))))</span><br><span class="line"></span><br><span class="line">(define (branch-weight branch)  ;计算分支重量</span><br><span class="line">  (if (pair? (branch-structure branch))  ;是否吊着活动体</span><br><span class="line">      (total-weight (branch-structure branch))</span><br><span class="line">      (branch-structure branch)))</span><br></pre></td></tr></table></figure>

<h4 id="c-check-balance-检查二叉活动体是否平衡，递归判断左右分支是否平衡"><a href="#c-check-balance-检查二叉活动体是否平衡，递归判断左右分支是否平衡" class="headerlink" title="c) check-balance 检查二叉活动体是否平衡，递归判断左右分支是否平衡"></a>c) check-balance 检查二叉活动体是否平衡，递归判断左右分支是否平衡</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(define (cal-torque branch)  ;计算分支力矩</span><br><span class="line">  (* (branch-length branch) (branch-weight branch)))</span><br><span class="line"></span><br><span class="line">(define (check-balance mobile)</span><br><span class="line">  (if (null? mobile)</span><br><span class="line">      #t</span><br><span class="line">      (let ((left (left-branch mobile))</span><br><span class="line">            (right (right-branch mobile)))</span><br><span class="line">        (and (torque-equal? left right)</span><br><span class="line">             (branch-balance? left)</span><br><span class="line">             (branch-balance? right)))))</span><br><span class="line"></span><br><span class="line">(define (torque-equal? lfbranch rtbranch)  ;力矩是否相等</span><br><span class="line">  (= (cal-torque lfbranch) (cal-torque rtbranch)))</span><br><span class="line"></span><br><span class="line">(define (branch-balance? branch)  ;分支是否平衡</span><br><span class="line">  (if (pair? (branch-structure branch))  ;是否吊着活动体</span><br><span class="line">      (check-balance (branch-structure branch))</span><br><span class="line">      #t))</span><br></pre></td></tr></table></figure>

<h4 id="d-这就是数据抽象的好处-改变构造方式-我们只需要修改相应的选择函数"><a href="#d-这就是数据抽象的好处-改变构造方式-我们只需要修改相应的选择函数" class="headerlink" title="d) 这就是数据抽象的好处,改变构造方式,我们只需要修改相应的选择函数"></a>d) 这就是数据抽象的好处,改变构造方式,我们只需要修改相应的选择函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(define (new-left-branch mobile)</span><br><span class="line">  (car mobile))</span><br><span class="line">(define (new-right-branch mobile)</span><br><span class="line">  (cdr mobile))</span><br><span class="line">(define (new-branch-length branch)</span><br><span class="line">  (car branch))</span><br><span class="line">(define (new-branch-structure branch)</span><br><span class="line">  (cdr branch))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-30"><a href="#EX-2-30" class="headerlink" title="EX 2.30"></a>EX 2.30</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">;直接定义</span><br><span class="line">(define (square-tree1 tree)</span><br><span class="line">  (cond ((null? tree) &apos;())</span><br><span class="line">        ((not (pair? tree)) (square tree))</span><br><span class="line">        (else (cons (square-tree1 (car tree))</span><br><span class="line">                    (square-tree1 (cdr tree))))))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;map和递归定义</span><br><span class="line">(define (square-tree2 tree)</span><br><span class="line">  (map (lambda (sub-tree)</span><br><span class="line">         (if (pair? sub-tree)</span><br><span class="line">             (square-tree2 sub-tree)</span><br><span class="line">             (square sub-tree)))</span><br><span class="line">       tree))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-31"><a href="#EX-2-31" class="headerlink" title="EX 2.31"></a>EX 2.31</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(define (tree-map proc items)</span><br><span class="line">  (cond ((null? items) &apos;())</span><br><span class="line">        ((not (pair? items)) (proc items))</span><br><span class="line">        (else (cons (tree-map proc (car items))</span><br><span class="line">                    (tree-map proc (cdr items))))))</span><br><span class="line">(define (square-tree3 tree)</span><br><span class="line">  (tree-map square tree))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-32"><a href="#EX-2-32" class="headerlink" title="EX 2.32"></a>EX 2.32</h3><p>求集合S的子集，就是求(cdr S)和(cdr S)里的每个元素append (car S)<br>例如S：(list 1 2 3)，子集是(() (3) (2) (2 3) (1) (1 3) (1 2) (1 2 3))<br>先求(2 3)的子集，(() (3) (2) (2 3))，然后给每个append 1<br>具体递归分析如下：</p>
<p><img src="/images/ex2-32.jpg" alt="“ex2-32”"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(define (subsets s)</span><br><span class="line">  (if (null? s)</span><br><span class="line">      (list &apos;())</span><br><span class="line">      (let ((rest (subsets (cdr s))))</span><br><span class="line">        (append rest (map (lambda (x) (cons (car s) x))</span><br><span class="line">                           rest)))))</span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/04/21/SICP-ex2-2(1)/" itemprop="url">
                  SICP 2.2节习题(1)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-04-21T20:11:25+08:00" content="2016-04-21">
              2016-04-21
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP解题集/" itemprop="url" rel="index">
                    <span itemprop="name">SICP解题集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="第二章-构造数据抽象"><a href="#第二章-构造数据抽象" class="headerlink" title="第二章 构造数据抽象"></a>第二章 构造数据抽象</h1><h2 id="2-2-层次性数据和闭包性质"><a href="#2-2-层次性数据和闭包性质" class="headerlink" title="2.2 层次性数据和闭包性质"></a>2.2 层次性数据和闭包性质</h2><h3 id="EX-2-17"><a href="#EX-2-17" class="headerlink" title="EX 2.17"></a>EX 2.17</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">;返回列表尾元素</span><br><span class="line">(define (last-pair x)</span><br><span class="line">  (if (null? (cdr x))</span><br><span class="line">      x</span><br><span class="line">      (last-pair (cdr x))))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">;测试</span><br><span class="line">(last-pair (list 1 2 3 4))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-18"><a href="#EX-2-18" class="headerlink" title="EX 2.18"></a>EX 2.18</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;反转列表</span><br><span class="line">(define (reverse x)</span><br><span class="line">  (define (iter remain result)</span><br><span class="line">    (if (null? remain)</span><br><span class="line">        result</span><br><span class="line">        (iter (cdr remain) (cons (car remain) result))))</span><br><span class="line">  (iter x &apos;()))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-19"><a href="#EX-2-19" class="headerlink" title="EX 2.19"></a>EX 2.19</h3><p>题目本身并不难，只要看过“换零钱”的程序，根据分治思想，分成使用的币种和为未使用的币种，两部分分别是list的car和cdr</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">;源程序</span><br><span class="line">(define (cc amount coin-values)</span><br><span class="line">  (cond ((= amount 0) 1)</span><br><span class="line">        ((or (&lt; amount 0) (no-more? coin-values)) 0)</span><br><span class="line">        (else (+ (cc amount (except-first-denomination coin-values))</span><br><span class="line">                 (cc (- amount (first-denomination coin-values)) coin-values)))))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;补全程序</span><br><span class="line">(define (first-denomination coin-values)</span><br><span class="line">  (car coin-values))</span><br><span class="line">(define (except-first-denomination coin-values)</span><br><span class="line">  (cdr coin-values))</span><br><span class="line">(define (no-more? coin-values)</span><br><span class="line">  (null? coin-values))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-20"><a href="#EX-2-20" class="headerlink" title="EX 2.20"></a>EX 2.20</h3><p>一般的思路是利用循环遍历列表，逐个判断元素的奇偶性，当该项符合要求时加入新的list中<br>这里的思路是抽象出一种通用的过程filter，体现了动态语言的特性，将过程(函数)作为参数传递</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">;P78 filter的定义</span><br><span class="line">(define (filter predicate sequence)</span><br><span class="line">  (cond ((null? sequence) &apos;())</span><br><span class="line">        ((predicate (car sequence))</span><br><span class="line">         (cons (car sequence) (filter predicate (cdr sequence))))</span><br><span class="line">        (else (filter predicate (cdr sequence)))))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">;一种same-parity  </span><br><span class="line">(define (same-parity x . y)</span><br><span class="line">  (cond ((odd? x) (filter odd? (cons x y)))</span><br><span class="line">        ((even? x) (filter even? (cons x y)))</span><br><span class="line">        (else (display &quot;x error&quot;))))</span><br><span class="line"></span><br><span class="line">;一种same-parity的简洁定义</span><br><span class="line">(define (same-parity x . y)</span><br><span class="line">  (filter (if (odd? x)</span><br><span class="line">              odd?</span><br><span class="line">              even?)</span><br><span class="line">          (cons x y)))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-21"><a href="#EX-2-21" class="headerlink" title="EX 2.21"></a>EX 2.21</h3><p>不难补全代码<br>第一种定义：对car项做平方，cdr项继续迭代回过程中<br>第二种定义：根据map的定义，形式参数是操作类型和被操作的项即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">;一种square-list的定义</span><br><span class="line">(define (square-list1 items)</span><br><span class="line">  (if (null? items)</span><br><span class="line">      &apos;()</span><br><span class="line">      (cons (square (car items))</span><br><span class="line">            (square-list1 (cdr items)))))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">;另一种square-list的定义</span><br><span class="line">(define (square-list2 items)</span><br><span class="line">  (map square items))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-22"><a href="#EX-2-22" class="headerlink" title="EX 2.22"></a>EX 2.22</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">;原始程序(未交换cons参数)</span><br><span class="line">(define (square-list items)</span><br><span class="line">  (define (iter things answer)</span><br><span class="line">    (if (null? things)</span><br><span class="line">        answer</span><br><span class="line">        (iter (cdr things)</span><br><span class="line">              (cons (square (car things))</span><br><span class="line">                    answer))))</span><br><span class="line">  (iter items &apos;()))</span><br></pre></td></tr></table></figure>

<p>分析如下：</p>
<pre><code>(square-list (list 1 2 3))                    -&gt;
(iter (1 2 3) &apos;())                            -&gt;
(iter (2 3) (cons 1 &apos;()))                    -&gt;
(iter (3) (cons 4 (cons 1 &apos;())))            -&gt;
(iter &apos;() (cons 9 (cons 4 (cons 1 &apos;()))))    -&gt;    (cons 9 (cons 4 (cons 1 &apos;())))) = (list 9 4 1)
(9 4 1)</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">;原始程序(交换cons参数)</span><br><span class="line">(define (square-list items)</span><br><span class="line">  (define (iter things answer)</span><br><span class="line">    (if (null? things)</span><br><span class="line">        answer</span><br><span class="line">        (iter (cdr things)</span><br><span class="line">              (cons answer</span><br><span class="line">                    (square (car things))))))</span><br><span class="line">  (iter items &apos;()))</span><br></pre></td></tr></table></figure>

<p>分析如下：</p>
<pre><code>(square-list (list 1 2 3))                    -&gt;
(iter (1 2 3) &apos;())                             -&gt;
(iter (2 3) (cons &apos;() 1))                    -&gt;
(iter (3) (cons (cons &apos;() 1) 4))            -&gt;
(iter &apos;() (cons (cons (cons &apos;() 1) 4) 3))    -&gt;    (cons (cons (cons &apos;() 1) 4) 3) = (((() . 1) . 4) . 9)
(((() . 1) . 4) . 9)</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">;正确程序</span><br><span class="line">(define (square-list items)</span><br><span class="line">  (define (iter things answer)</span><br><span class="line">    (if (null? things)</span><br><span class="line">        (reverse answer)</span><br><span class="line">        (iter (cdr things)</span><br><span class="line">              (cons (square (car things))</span><br><span class="line">                    answer))))</span><br><span class="line">  (iter items &apos;()))</span><br></pre></td></tr></table></figure>

<p>分析如下：</p>
<pre><code>(square-list (list 1 2 3))                    -&gt;
(iter (1 2 3) &apos;())                            -&gt;
(iter (2 3) (cons 1 &apos;()))                    -&gt;
(iter (3) (cons 4 (cons 1 &apos;())))            -&gt;
(iter &apos;() (cons 9 (cons 4 (cons 1 &apos;()))))    -&gt;    (cons 9 (cons 4 (cons 1 &apos;()))) = (list 9 4 1)
(list 1 4 9)</code></pre><h3 id="EX-2-23"><a href="#EX-2-23" class="headerlink" title="EX 2.23"></a>EX 2.23</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">;类似于map的定义，返回逻辑值</span><br><span class="line">(define (for-each proc items)</span><br><span class="line">  (if (null? items)</span><br><span class="line">      #f</span><br><span class="line">      (cons (proc (car items))</span><br><span class="line">            (for-each proc (cdr items)))))</span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/04/21/SICP-ex2-1(2)/" itemprop="url">
                  SICP 2.1节习题(2)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-04-21T20:09:17+08:00" content="2016-04-21">
              2016-04-21
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP解题集/" itemprop="url" rel="index">
                    <span itemprop="name">SICP解题集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="第二章-构造数据抽象"><a href="#第二章-构造数据抽象" class="headerlink" title="第二章 构造数据抽象"></a>第二章 构造数据抽象</h1><h2 id="2-1-数据抽象引导"><a href="#2-1-数据抽象引导" class="headerlink" title="2.1 数据抽象引导"></a>2.1 数据抽象引导</h2><h3 id="EX-2-7"><a href="#EX-2-7" class="headerlink" title="EX 2.7"></a>EX 2.7</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(define (upper-bound x) (cdr x))</span><br><span class="line"></span><br><span class="line">(define (lower-bound x) (car x))</span><br><span class="line"></span><br><span class="line">(define (make-interval a b) (cons a b))</span><br><span class="line"></span><br><span class="line">(define test (make-interval 1 2))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-8"><a href="#EX-2-8" class="headerlink" title="EX 2.8"></a>EX 2.8</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(define (sub-interval x y)</span><br><span class="line">  (make-interval (- (lower-bound x) (lower-bound y))</span><br><span class="line">                 (- (upper-bound x) (upper-bound y))))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-9"><a href="#EX-2-9" class="headerlink" title="EX 2.9"></a>EX 2.9</h3><pre><code>显而易见，若两个区间分别为(1,2) (3,4)，被加宽度为0.5
对于加：(4,6)，宽度为0.5+0.5=1
对于减：(-2,-2),宽度为0.5-0.5=0
对于乘：p1=3 p2=4 p3=6 p4=8，(3,8), 宽度为2.5
对于除：第一个区间乘上第二个区间的倒数，p1=1/4 p2=1/3 p3=1/2 p4=2/3，(1/4,2/3)，宽度为5/24</code></pre><h3 id="EX-2-10"><a href="#EX-2-10" class="headerlink" title="EX 2.10"></a>EX 2.10</h3><pre><code>显然，如果两个区间分别为(0,1)，(1,2)
对于除：取倒数的时候可能会出现分母为0的情况
如果区间横跨0，区间取倒数的时候会出现上界小于下界的情况，(-1,2)取倒数后(1/2, -1)</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(define (new-div-interval x y)</span><br><span class="line">  (let ((y1 (lower-bound y))</span><br><span class="line">        (y2 (upper-bound y)))</span><br><span class="line">    (cond ((or (= y1 0) (= y2 0)) (display &quot;error&quot;))</span><br><span class="line">          ((&lt; y1 0) (display &quot;error&quot;))</span><br><span class="line">          (else</span><br><span class="line">           (mul-interval x</span><br><span class="line">                         (make-interval (/ 1.0 y1)</span><br><span class="line">                                        (/ 1.0 y2)))))))</span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/04/13/SICP-ex2-1(1)/" itemprop="url">
                  SICP 2.1节习题(1)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-04-13T21:33:17+08:00" content="2016-04-13">
              2016-04-13
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP解题集/" itemprop="url" rel="index">
                    <span itemprop="name">SICP解题集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="第二章-构造数据抽象"><a href="#第二章-构造数据抽象" class="headerlink" title="第二章 构造数据抽象"></a>第二章 构造数据抽象</h1><h2 id="2-1-数据抽象引导"><a href="#2-1-数据抽象引导" class="headerlink" title="2.1 数据抽象引导"></a>2.1 数据抽象引导</h2><h3 id="EX-2-1"><a href="#EX-2-1" class="headerlink" title="EX 2.1"></a>EX 2.1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(define (new-make-rat n d)</span><br><span class="line">  (let ((g (gcd n d)))</span><br><span class="line">    (cond ((or (and (&lt; n 0) (&lt; d 0)) (and (&gt; n 0) (&lt; d 0)))</span><br><span class="line">           (cons (- (/ n g)) (- (/ d g))))</span><br><span class="line">          (else (cons (/ n g) (/ d g))))))</span><br></pre></td></tr></table></figure>

<p><img src="/images/ex2-1.png" alt="“ex2-1”"></p>
<h3 id="EX-2-2"><a href="#EX-2-2" class="headerlink" title="EX 2.2"></a>EX 2.2</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">(define (make-segment start end)  ;构造函数make-segment</span><br><span class="line">  (cons start end))</span><br><span class="line"></span><br><span class="line">(define (start-segment segment)  ;选择函数start-segment</span><br><span class="line">  (car segment))</span><br><span class="line"></span><br><span class="line">(define (end-segment segment)  ;选择函数end-segment</span><br><span class="line">  (cdr segment))</span><br><span class="line"></span><br><span class="line">(define (make-point x y)	  ;构造函数make-point</span><br><span class="line">  (cons x y))</span><br><span class="line"></span><br><span class="line">(define (x-point point)  ;选择函数x-point</span><br><span class="line">  (car point))</span><br><span class="line"></span><br><span class="line">(define (y-point point)  ;选择函数y-point</span><br><span class="line">  (cdr point))</span><br><span class="line"></span><br><span class="line">;求线段中点</span><br><span class="line">(define (midpoint-segment segment)</span><br><span class="line">  (let ((start (start-segment segment))</span><br><span class="line">        (end (end-segment segment)))</span><br><span class="line">    (make-point (/ (+ (x-point start) (x-point end)) 2)</span><br><span class="line">                (/ (+ (y-point start) (y-point end)) 2))))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">;测试程序</span><br><span class="line">(define start (make-point 1 3))</span><br><span class="line">(define end (make-point 4 3))</span><br><span class="line">(define seg (make-segment start end))</span><br><span class="line">(define mid (midpoint-segment seg))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-3"><a href="#EX-2-3" class="headerlink" title="EX 2.3"></a>EX 2.3</h3><p>两种矩形表示，一种采用两对线段(4条)，另一种采用两条相邻线段(2条)，主要设计抽象屏障，这里只采用后一种。当然还有别的表示方法，如<a href="https://github.com/spinab/sicp_exercise/blob/master/sicp_2_3.rkt" target="_blank" rel="noopener">三点表示</a>(我没有仔细研究)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">(define (make-rect seg1 seg2)  ;构造函数,构造矩形</span><br><span class="line">  (cons seg1 seg2))</span><br><span class="line">(define (seg1-in-rect rect)  ;选择函数,相邻的一条边a</span><br><span class="line">  (car rect))</span><br><span class="line">(define (seg2-in-rect rect)  ;选择函数,相邻的另一条边b</span><br><span class="line">  (cdr rect))</span><br><span class="line">(define (a-length rect)  ;a的长度</span><br><span class="line">  (let ((a (seg1-in-rect rect)))</span><br><span class="line">    (let ((a-startpt (start-segment a))</span><br><span class="line">          (a-endpt (end-segment a)))</span><br><span class="line">      (let ((a-x1 (x-point a-startpt))</span><br><span class="line">            (a-y1 (y-point a-startpt))</span><br><span class="line">            (a-x2 (x-point a-endpt))</span><br><span class="line">            (a-y2 (y-point a-endpt)))</span><br><span class="line">        (sqrt (+ (square (abs (- a-x1 a-x2))) (square (abs (- a-y1 a-y2)))))))))</span><br><span class="line">(define (b-length rect)  ;b的长度</span><br><span class="line">  (let ((b (seg2-in-rect rect)))</span><br><span class="line">    (let ((b-startpt (start-segment b))</span><br><span class="line">          (b-endpt (end-segment b)))</span><br><span class="line">      (let ((b-x1 (x-point b-startpt))</span><br><span class="line">            (b-y1 (y-point b-startpt))</span><br><span class="line">            (b-x2 (x-point b-endpt))</span><br><span class="line">            (b-y2 (y-point b-endpt)))</span><br><span class="line">        (sqrt (+ (square (abs (- b-x1 b-x2))) (square (abs (- b-y1 b-y2)))))))))</span><br><span class="line">(define (area-rect rect)	  ;计算面积,参数是矩形</span><br><span class="line">  (let ((a (a-length rect))</span><br><span class="line">        (b (b-length rect)))</span><br><span class="line">    (* a b)))</span><br><span class="line">(define (perimeter-rect rect)  ;计算周长,参数是矩形</span><br><span class="line">  (let ((a (a-length rect))</span><br><span class="line">        (b (b-length rect)))</span><br><span class="line">    (* (+ a b) 2)))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">;测试程序</span><br><span class="line">;(define p1 (make-point 1 2))  ;p1 p2 p3,边不平行于坐标轴的矩形</span><br><span class="line">;(define p2 (make-point 2 3))</span><br><span class="line">;(define p3 (make-point 3 1))</span><br><span class="line">(define p1 (make-point 1 1))	  ;p1 p2 p3,边平行于坐标轴的矩形</span><br><span class="line">(define p2 (make-point 1 3))</span><br><span class="line">(define p3 (make-point 5 1))</span><br><span class="line">(define rectangle  ;测试所用的矩形</span><br><span class="line">  (make-rect (make-segment p1 p2)</span><br><span class="line">             (make-segment p1 p3)))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-4"><a href="#EX-2-4" class="headerlink" title="EX 2.4"></a>EX 2.4</h3><p>根据代换法则，分析一下这种过程性表示方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(define (cons x y)</span><br><span class="line">  (lambda (m) (m x y)))</span><br><span class="line">(define (car z)</span><br><span class="line">  (z (lambda (p q) p)))</span><br></pre></td></tr></table></figure>

<pre><code>(car (cons x y))                        ——&gt;
(car (lambda (m) (m x y)))                ——&gt;
((lambda (m) (m x y)) (lambda (p q) p))    ——&gt;
((lambda (p q) p) x y)                    ——&gt;
x</code></pre><p>代入具体的数字</p>
<pre><code>(car (cons 1 2))            ——&gt;
((lambda (p q) p) 1 2)        ——&gt;
1     </code></pre><p>由代换结果分析，不难写出cdr的过程性表示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(define (cdr z)</span><br><span class="line">  (z (lambda (p q) q)))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-5"><a href="#EX-2-5" class="headerlink" title="EX 2.5"></a>EX 2.5</h3><p>(cons 2 3) = 108 = 2 * 2 * 3 * 3 * 3<br>将(cons 2 3)连续除以2，得到car。连续除以3，得到cdr</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(define (cons x y)</span><br><span class="line">  (* (expt 2 x) (expt 3 y)))</span><br><span class="line"></span><br><span class="line">(define (car z)</span><br><span class="line">  (if (= 0 (remainder z 2))</span><br><span class="line">      (+ (car (/ z 2)) 1)</span><br><span class="line">      0))</span><br><span class="line"></span><br><span class="line">(define (cdr z)</span><br><span class="line">  (if (= 0 (remainder z 3))</span><br><span class="line">      (+ (cdr (/ z 3)) 1)</span><br><span class="line">      0))</span><br></pre></td></tr></table></figure>

<h3 id="EX-2-6"><a href="#EX-2-6" class="headerlink" title="EX 2.6"></a>EX 2.6</h3><p>根据书中给出的zero和add-1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(define zero </span><br><span class="line">  (lambda (f) (lambda (x) x)))</span><br><span class="line">(define (add-1 n)</span><br><span class="line">  (lambda (f) (lambda (x) (f ((n f) x)))))</span><br></pre></td></tr></table></figure>

<p>推导出one(one = zero + add-1)</p>
<pre><code>(add-1 zero)                                ——&gt;
(add-1 (lambda (f) (lambda (x) x)))            ——&gt;
(lambda (f) 
  (lambda (x) 
    (f (
      ((lambda (f) (lambda (x) x)) f) x))))    ——&gt;
(lambda (f)
  (lambda (x)
    (f 
      ((lambda (x) x) x))))                    ——&gt;
(lambda (f)
  (lambda (x)
    (f x)))                                    ——&gt;
得到one的定义</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(define one</span><br><span class="line">  (lambda (f)</span><br><span class="line">	(lambda (x)</span><br><span class="line">	  (f x))))</span><br></pre></td></tr></table></figure>

<p>同理，求two的定义。two = one + add-1</p>
<pre><code>(add-1 one)                                    ——&gt;
(add-1 (lambda (f) (lambda (x) (f x))))        ——&gt;
(lambda (f)
  (lambda (x)
    (f ((n f) x))))                            ——&gt;将n代换为one
(lambda (f)
  (lambda (x)
    (f ((
      (lambda (f) (lambda (x) (f x))) f) 
        x))))                                ——&gt;化简lambda (f)
(lambda (f)
  (lambda (x)
    (f ( (lambda (x) (f x)) x))))            ——&gt;化简lambda (x)
(lambda (f)
  (lambda (x)
    (f (f x))))                                ——&gt;
得到two的定义</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(define two</span><br><span class="line">  (lambda (f)</span><br><span class="line">    (lambda (x)</span><br><span class="line">      (f (f x)))))</span><br></pre></td></tr></table></figure>

<p>根据zero，one，two的定义</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(define zero		;no f</span><br><span class="line">  (lambda (f) </span><br><span class="line">	(lambda (x) </span><br><span class="line">	  x)))</span><br><span class="line">(define one			;one f</span><br><span class="line">  (lambda (f)</span><br><span class="line">	(lambda (x)</span><br><span class="line">	  (f x))))</span><br><span class="line">(define two			;two f</span><br><span class="line">  (lambda (f)</span><br><span class="line">    (lambda (x)</span><br><span class="line">      (f (f x)))))</span><br></pre></td></tr></table></figure>

<p>据此推导加法过程定义(对此仍不太懂，没有理解FP，柯里化之类的内容)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(define church-add</span><br><span class="line">  (lambda (m n)</span><br><span class="line">	(lambda (f)</span><br><span class="line">	  (lambda (x)</span><br><span class="line">		(m f (n f x))))))</span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/24/SICP2/" itemprop="url">
                  《计算机程序的解释和构造(SICP)》 (2)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-24T11:23:50+08:00" content="2016-03-24">
              2016-03-24
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP/" itemprop="url" rel="index">
                    <span itemprop="name">SICP</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>断断续续看完第一章的三节公开课，做完第一章的课后习题，回顾一下。</p>
<ul>
<li><p>Lisp的基本语法</p>
</li>
<li><p>组合式的概念</p>
<p>  例如: (+ 3 (* 5 6))</p>
</li>
<li><p>表达式类型</p>
<ul>
<li><p>numbers </p>
</li>
<li><p>symbol </p>
</li>
<li><p>lambda-expressions </p>
</li>
<li><p>definitions </p>
</li>
<li><p>conditionals(条件表达式) </p>
</li>
<li><p>combinations(组合式)</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(define  a  (* 5 5))  ;a是符号</span><br><span class="line">(define (a) (* 5 5))  ;a是过程</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>应用序和正则序</p>
<p>  应用序：先求参后应用<br>  正则序：先展开后规约</p>
</li>
<li><p>线性递归(Linear-Recurison)与迭代(Iteration)，时间复杂度、空间复杂度简单分析</p>
</li>
<li><p>函数式编程(functional programming)将过程(函数)作为参数，返回值等等</p>
<p>  例如：</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(define (compose f g)</span><br><span class="line">  (lambda (x)</span><br><span class="line">    (f (g x))))</span><br></pre></td></tr></table></figure>



<ul>
<li><p>复杂问题的分析与分解，划分成一个个自问题来解决</p>
</li>
<li><p>语法糖衣(syntactic sugar)</p>
<ul>
<li><p>lambda</p>
<p>以下两种定义等价，都是f(x) = x + 1</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(define (f x) (+ x 1))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(define f </span><br><span class="line">  (lambda (x) </span><br><span class="line">    (+ x 1)))</span><br></pre></td></tr></table></figure>

<ul>
<li><p>let</p>
<p> 以下两种定义等价，都是f(x) = 2x + 1</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(define (f x)</span><br><span class="line">  ((lambda (a)		;a + x </span><br><span class="line">    (+ a x))</span><br><span class="line">  (+ 1 x))		;a = x + 1</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(define (f x)</span><br><span class="line">  (let ((a (+ x 1)))	;a = x + 1</span><br><span class="line">    (+ a x)))		;a + x</span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/23/SICP-ex1-3(3)/" itemprop="url">
                  SICP 1.3节习题(3)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-23T20:10:07+08:00" content="2016-03-23">
              2016-03-23
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP解题集/" itemprop="url" rel="index">
                    <span itemprop="name">SICP解题集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="第一章-构造过程抽象"><a href="#第一章-构造过程抽象" class="headerlink" title="第一章 构造过程抽象"></a>第一章 构造过程抽象</h1><h2 id="1-3-用高阶函数做抽象"><a href="#1-3-用高阶函数做抽象" class="headerlink" title="1.3 用高阶函数做抽象"></a>1.3 用高阶函数做抽象</h2><h3 id="EX-1-40"><a href="#EX-1-40" class="headerlink" title="EX 1.40"></a>EX 1.40</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">;定义过程cubic</span><br><span class="line">(define (cubic a b c)</span><br><span class="line">  (lambda (x) (+ (cube x) (* a (square x)) (* b x) c)))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-41"><a href="#EX-1-41" class="headerlink" title="EX 1.41"></a>EX 1.41</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(define (double f)</span><br><span class="line">  (lambda (x)</span><br><span class="line">    (f (f x))))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(((double (double double)) inc) 5)  ;答案是21</span><br></pre></td></tr></table></figure>

<p>分析:<br>((double inc) 5)                     将inc应用2^1次,结果为7<br>(((double double) inc) 5)            将inc应用2^2次,结果为9<br>((double (double double)) inc) 5)    将inc应用(2^2)^2次,结果为21</p>
<h3 id="EX-1-42"><a href="#EX-1-42" class="headerlink" title="EX 1.42"></a>EX 1.42</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(define (compose f g)</span><br><span class="line">  (lambda (x)</span><br><span class="line">    (f (g x))))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-43"><a href="#EX-1-43" class="headerlink" title="EX 1.43"></a>EX 1.43</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">;递归版本</span><br><span class="line">(define (repeated f n)</span><br><span class="line">  (if (= n 1)</span><br><span class="line">      f</span><br><span class="line">      (lambda (x)</span><br><span class="line">        (f ((repeated f (- n 1)) x)))))</span><br><span class="line">;迭代版本</span><br><span class="line">(define (re-iter f n)</span><br><span class="line">  (define (iter i f-result)</span><br><span class="line">    (if (= i n)</span><br><span class="line">        f-result</span><br><span class="line">        (iter (+ i 1) (lambda (x) (f (f-result x))))))</span><br><span class="line">  (iter 1 f))</span><br></pre></td></tr></table></figure>

<p>根据提示,可以使用EX 1.42的compose过程,省去了使用lambda</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">;使用compose的递归版本</span><br><span class="line">(define (repeated f n)</span><br><span class="line">  (if (= n 1)</span><br><span class="line">      f</span><br><span class="line">      (compose f (repeated f (- n 1)))))</span><br><span class="line">;使用compose的迭代版本</span><br><span class="line">(define (repeated f n)</span><br><span class="line">  (define (iter i f-result)</span><br><span class="line">    (if (= i n)</span><br><span class="line">        f-result</span><br><span class="line">        (iter (+ i 1) (compose f f-result))))</span><br><span class="line">  (iter 1 f))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-44"><a href="#EX-1-44" class="headerlink" title="EX 1.44"></a>EX 1.44</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">;一次平滑</span><br><span class="line">(define (smooth f)</span><br><span class="line">  (define dx 0.000001)</span><br><span class="line">  (lambda (x)</span><br><span class="line">    (/ (+ (f (- x dx)) (f x) (f (+ x dx))) 3))) </span><br><span class="line">;n次平滑</span><br><span class="line">(define (n-smooth f n)</span><br><span class="line">  (re1 smooth n) f)</span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/22/SICP-ex1-3(2)/" itemprop="url">
                  SICP 1.3节习题(2)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-22T20:55:27+08:00" content="2016-03-22">
              2016-03-22
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP解题集/" itemprop="url" rel="index">
                    <span itemprop="name">SICP解题集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="第一章-构造过程抽象"><a href="#第一章-构造过程抽象" class="headerlink" title="第一章 构造过程抽象"></a>第一章 构造过程抽象</h1><h2 id="1-3-用高阶函数做抽象"><a href="#1-3-用高阶函数做抽象" class="headerlink" title="1.3 用高阶函数做抽象"></a>1.3 用高阶函数做抽象</h2><h3 id="EX-1-32"><a href="#EX-1-32" class="headerlink" title="EX 1.32"></a>EX 1.32</h3><h4 id="a"><a href="#a" class="headerlink" title="a)"></a>a)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">;accumulate递归版本</span><br><span class="line">(define (accumulate combiner null-value term a next b)</span><br><span class="line">  (if (&gt; a b)</span><br><span class="line">      null-value</span><br><span class="line">      (combiner (term a)</span><br><span class="line">                (accumulate combiner null-value term (next a) next b))))</span><br><span class="line">;sum测试,计算立方和</span><br><span class="line">(define (cube-sum a b)</span><br><span class="line">  (accumulate + 0 cube a next b))</span><br><span class="line">;product测试,计算阶乘</span><br><span class="line">(define (factorial n)</span><br><span class="line">  (define (f x) x)</span><br><span class="line">  (accumulate * 1 f 1 next n))</span><br></pre></td></tr></table></figure>

<pre><code>(cube-sum 1 10)
(factorial 6)</code></pre><p>结果<br><img src="/images/ex1-32.png" alt="“1-32”"></p>
<h4 id="b"><a href="#b" class="headerlink" title="b)"></a>b)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;accumulate迭代版本</span><br><span class="line">(define (accumulate combiner null-value term a next b)</span><br><span class="line">  (define (iter a result)</span><br><span class="line">    (if (&gt; a b)</span><br><span class="line">        result</span><br><span class="line">        (iter (next a) (combiner (term a) result))))</span><br><span class="line">  (iter a null-value))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-33"><a href="#EX-1-33" class="headerlink" title="EX 1.33"></a>EX 1.33</h3><h4 id="a-1"><a href="#a-1" class="headerlink" title="a)"></a>a)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">;相比EX 1.32,增加参数filter,用于过滤一些项</span><br><span class="line">(define (filtered-accumulate combiner null-value filter f a next b)</span><br><span class="line">  (if (&gt; a b)</span><br><span class="line">      null-value</span><br><span class="line">      (if (filter a)</span><br><span class="line">          (combiner (f a) (filtered-accumulate combiner null-value filter f (next a) next b))</span><br><span class="line">          (filtered-accumulate combiner null-value filter f (next a) next b))))</span><br><span class="line">;计算a到b之间素数和</span><br><span class="line">(define (prime-sum a b)</span><br><span class="line">  (define (f x) x)</span><br><span class="line">  (filtered-accumulate + 0 prime? f a next b))</span><br><span class="line">;prime?见书P33页</span><br></pre></td></tr></table></figure>

<p>其实可以使用let来定义剩余项,因为按照书中课后习题的学习顺序,这里并没有使用let</p>
<pre><code>(let rest (filtered-accumulate combiner null-value filter f (next a) next b))</code></pre><h4 id="b-1"><a href="#b-1" class="headerlink" title="b)"></a>b)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(define (gcd-product n)</span><br><span class="line">  (define (f x) x)</span><br><span class="line">  (define (its-prime? x) (= (gcd x n) 1))</span><br><span class="line">  (filtered-accumulate * 1 its-prime? f 1 next n))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-34"><a href="#EX-1-34" class="headerlink" title="EX 1.34"></a>EX 1.34</h3><pre><code>(f f)        -&gt; 
(f 2)        -&gt;
(2 2)        -&gt; 解释器无法解释(2 2),因为2并不是一个过程(not a procedure)</code></pre><h3 id="EX-1-35"><a href="#EX-1-35" class="headerlink" title="EX 1.35"></a>EX 1.35</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">;fixed-point见书P46页</span><br><span class="line">(define golden-ratio</span><br><span class="line">  (fixed-point (lambda (x) (+ (/ 1 x) 1)) 1.0))</span><br></pre></td></tr></table></figure>

<pre><code>golden-ratio is 1.6180327868852458</code></pre><h3 id="EX-1-36"><a href="#EX-1-36" class="headerlink" title="EX 1.36"></a>EX 1.36</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">;可以打印近似值序列的new-fixed-point, close-enough见书P45页</span><br><span class="line">(define (new-fixed-point f first-guess)</span><br><span class="line">  (define (close-enough? v1 v2) (&lt; (abs (- v1 v2)) tolerance))</span><br><span class="line">  (define (try guess step)</span><br><span class="line">    (let ((next (f guess)))</span><br><span class="line">      (cond ((close-enough? guess next) next)</span><br><span class="line">            (else</span><br><span class="line">             (display &quot;step: &quot;)</span><br><span class="line">             (display step)</span><br><span class="line">             (display &quot;, &quot;)</span><br><span class="line">             (display next)</span><br><span class="line">             (newline)</span><br><span class="line">             (try next (+ step 1))))))</span><br><span class="line">  (try first-guess 1))</span><br><span class="line">;计算公式</span><br><span class="line">(define loglog (lambda (x) (/ (log 1000) (log x))))</span><br><span class="line">;平均阻尼计算过程,见书P48页</span><br><span class="line">(define (average-damp f) (lambda (x) (average x (f x))))</span><br><span class="line">;不使用平均阻尼</span><br><span class="line">(define (no-damp-loglog x) (new-fixed-point loglog x))</span><br><span class="line">;使用平均阻尼</span><br><span class="line">(define (damp-loglog x) (new-fixed-point (average-damp loglog) x))</span><br></pre></td></tr></table></figure>

<p>使用平均阻尼，可以使过程更快的收敛，因此计算步数更少。</p>
<p>结果<br><img src="/images/ex1-36-1.png" alt="“1-36-1”"><br><img src="/images/ex1-36-2.png" alt="“1-36-2”"></p>
<h3 id="EX-1-37"><a href="#EX-1-37" class="headerlink" title="EX 1.37"></a>EX 1.37</h3><h4 id="a-2"><a href="#a-2" class="headerlink" title="a)"></a>a)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">;递归版本</span><br><span class="line">(define (cont-frac n d k)</span><br><span class="line">  (define (f i)</span><br><span class="line">    (if (= k i)</span><br><span class="line">        (/ (n i) (d i))</span><br><span class="line">        (/ (n i) (+ (f (+ i 1)) (d i)))))</span><br><span class="line">  (f 1))</span><br><span class="line">;测试是否逼近</span><br><span class="line">(define (check-cont-frac k)</span><br><span class="line">  (cont-frac (lambda (i) 1.0)</span><br><span class="line">             (lambda (i) 1.0)</span><br><span class="line">             k))</span><br></pre></td></tr></table></figure>

<p>需要至少k=11，具有十进制的4位精度</p>
<p>结果<br><img src="/images/ex1-37.png" alt="“1-37”"></p>
<h4 id="b-2"><a href="#b-2" class="headerlink" title="b)"></a>b)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;迭代版本</span><br><span class="line">(define (cont-frac n d k)</span><br><span class="line">  (define (iter i result)</span><br><span class="line">    (if (= i 0)</span><br><span class="line">        result</span><br><span class="line">        (iter (- i 1) (/ (n i) (+ (d i) result)))))</span><br><span class="line">  (iter (- k 1) (/ (n k) (d k))))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-38"><a href="#EX-1-38" class="headerlink" title="EX 1.38"></a>EX 1.38</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(define (e k)</span><br><span class="line">  (define (di i)</span><br><span class="line">    (if (= (remainder i 3) 2)</span><br><span class="line">        (* (/ (+ i 1) 3) 2)</span><br><span class="line">        1))</span><br><span class="line">  (+ (cont-frac (lambda (ni) 1.0) di k) 2.0))</span><br></pre></td></tr></table></figure>

<p>问题的关键在于找到Di序列的规律,发现三个数为一组,发现mod 3 = 2时,Di不等于1。随着k的增大，e的值精确度越高</p>
<p>结果<br><img src="/images/ex1-38.png" alt="“1-38”"></p>
<h3 id="EX-1-39"><a href="#EX-1-39" class="headerlink" title="EX 1.39"></a>EX 1.39</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(define (tan-cf x k)</span><br><span class="line">  (define (di i)</span><br><span class="line">    (if (= i 1)</span><br><span class="line">        1</span><br><span class="line">        (- (* i 2) 1)))</span><br><span class="line">  (define (ni i)</span><br><span class="line">    (if (= i 1)</span><br><span class="line">        x</span><br><span class="line">        (- (square x))))</span><br><span class="line">  (cont-frac ni di k))</span><br></pre></td></tr></table></figure>

<p>问题的关键在于生成奇数序列Di和x序列Ni</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/21/阚凯力老师/" itemprop="url">
                  阚凯力老师
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-21T22:38:39+08:00" content="2016-03-21">
              2016-03-21
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/生活/" itemprop="url" rel="index">
                    <span itemprop="name">生活</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="电信竞争与管制——阚凯力老师"><a href="#电信竞争与管制——阚凯力老师" class="headerlink" title="电信竞争与管制——阚凯力老师"></a>电信竞争与管制——阚凯力老师</h1><p>今天终于看到了阚凯力老师的真人，老师昨天才从摩洛哥开会回来，一开始就普及了一下ICANN。</p>
<p>百度了一下阚老师的履历，清华无线电系，因为文革中断学业，后来又考上北邮研究生，之后成为新中国成立后第一批留美学生，去斯坦福读了博士，在太平洋贝尔工作了一段时间，个人经历也是很传奇。</p>
<p>聆听这位经历过许多事情的老师授课，感触颇深。抛开其针对体制的一些看法，让我感触最深的是这位老人的对教育的一些思考。斯坦福给他所带来的，除了一个博士头衔之外，更重要的是两点</p>
<ul>
<li>有信心敢于承认自己不懂</li>
<li>技术是为经济服务的</li>
</ul>
<p>有关第一点，阚老师关于自己与休斯公司的故事令人记忆深刻。美国企业的航天计划被一个中国留学生所指导，说起来只因为一个词——common sense。因为敢于承认自己不懂，从自身常识来分析，指出运载飞船的高成本和高风险而丢失市场这一事实背后所体现出来的技术和体制的不合理。</p>
<p>有关第二点，阚老师作为一位有技术背景的人才，后来转而去学习管理、学习经济学，也是因为他看到了真正能变革的推动力，并不是技术，而是思想。这也是斯坦福之所以是硅谷摇篮的关键，师生们思考的是一种新技术能有什么作用？能为社会带来怎样的变革？进而将其产业化，投入市场经济中验证其合理性，反过来再改进技术，而非为技术而技术。反观我身边的大环境，应该改变的东西仍很多。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/21/SICP-ex1-3(1)/" itemprop="url">
                  SICP 1.3节习题(1)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-21T01:13:58+08:00" content="2016-03-21">
              2016-03-21
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP解题集/" itemprop="url" rel="index">
                    <span itemprop="name">SICP解题集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="第一章-构造过程抽象"><a href="#第一章-构造过程抽象" class="headerlink" title="第一章 构造过程抽象"></a>第一章 构造过程抽象</h1><h2 id="1-3-用高阶函数做抽象"><a href="#1-3-用高阶函数做抽象" class="headerlink" title="1.3 用高阶函数做抽象"></a>1.3 用高阶函数做抽象</h2><h3 id="EX-1-29"><a href="#EX-1-29" class="headerlink" title="EX 1.29"></a>EX 1.29</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">;38页递归版本sum</span><br><span class="line">(define (sum term a next b)</span><br><span class="line">  (if (&gt; a b)</span><br><span class="line">      0</span><br><span class="line">      (+ (term a) (sum term (next a) next b))))</span><br><span class="line">(define (simpson f a b n)</span><br><span class="line">  (define h (/ (- b a) n))</span><br><span class="line">  (define (yk k) (f (+ a (* k h))))</span><br><span class="line">  (define (next k) (+ k 1))</span><br><span class="line">  (define (coefficient k)</span><br><span class="line">    (cond ((or (= k 0) (= k n)) 1)</span><br><span class="line">          ((odd? k) 4)</span><br><span class="line">          (else 2)))</span><br><span class="line">  (define (term k)</span><br><span class="line">    (* (coefficient k) (yk k)))</span><br><span class="line">  (* (sum term 0 next n) (/ h 3)))</span><br></pre></td></tr></table></figure>

<p>结果<br><img src="/images/ex1-29.png" alt="“1-29”"></p>
<h3 id="EX-1-30"><a href="#EX-1-30" class="headerlink" title="EX 1.30"></a>EX 1.30</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;sum的迭代版本</span><br><span class="line">(define (sum term a next b)</span><br><span class="line">  (define (iter a result)</span><br><span class="line">    (if (&gt; a b)</span><br><span class="line">        result</span><br><span class="line">        (iter (next a) (+ (term a) result))))</span><br><span class="line">  (iter a 0))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-31"><a href="#EX-1-31" class="headerlink" title="EX 1.31"></a>EX 1.31</h3><h4 id="a"><a href="#a" class="headerlink" title="a)"></a>a)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">;类似于sum的过程product,递归版本</span><br><span class="line">(define (product f a next b)</span><br><span class="line">  (if (&gt; a b)</span><br><span class="line">      1</span><br><span class="line">      (* (f a) (product f (next a) next b))))</span><br><span class="line">;用product定义阶乘过程factorial</span><br><span class="line">(define (factorial n)</span><br><span class="line">  (define (f x) x)</span><br><span class="line">  (define (next i) (+ i 1))</span><br><span class="line">  (product f</span><br><span class="line">           1</span><br><span class="line">           next</span><br><span class="line">           n))</span><br><span class="line">;计算pi值,首先计算每一个分数</span><br><span class="line">(define (fraction i)</span><br><span class="line">  (if (odd? i)</span><br><span class="line">      (/ (+ i 1) (+ i 2))</span><br><span class="line">      (/ (+ i 2) (+ i 1))))</span><br><span class="line">;计算pi值,n是精确度</span><br><span class="line">(define (pi n)</span><br><span class="line">  (define (next i) (+ i 1))</span><br><span class="line">  (* (product fraction 1.0 next n) 4.0))</span><br></pre></td></tr></table></figure>

<p>结果<br><img src="/images/ex1-31a.png" alt="“1-31a”"></p>
<h4 id="b"><a href="#b" class="headerlink" title="b)"></a>b)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;product的迭代版本</span><br><span class="line">(define (product f a next b)</span><br><span class="line">  (define (iter a result)</span><br><span class="line">    (if (&gt; a b)</span><br><span class="line">        result</span><br><span class="line">        (iter (next a) (* (f a) result))))</span><br><span class="line">  (iter a 1))</span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/16/play(1)/" itemprop="url">
                  Play Framework环境搭建
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-16T13:38:22+08:00" content="2016-03-16">
              2016-03-16
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/搭建环境/" itemprop="url" rel="index">
                    <span itemprop="name">搭建环境</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="Play-Framework-笔记-1"><a href="#Play-Framework-笔记-1" class="headerlink" title="Play Framework 笔记(1)"></a>Play Framework 笔记(1)</h1><p>从去年七月开始进入实验室，一直使用的就是Play Framework来进行Web开发，慢慢的应该总结一些东西，免得以后忘记。</p>
<p>先说说<a href="https://www.playframework.com/" target="_blank" rel="noopener">Play</a>这个框架吧，使用了一段时间，直观的感觉是：</p>
<ul>
<li>MVC架构很清晰，Model层针对数据封装、数据库操作，Controller层负责响应各个请求，View层主要就是一些Html的东西来呈现在浏览器上。</li>
<li>Debug之后可以在浏览器上直接看到error</li>
</ul>
<p>以下援引自<a href="https://en.wikipedia.org/wiki/Play_Framework" target="_blank" rel="noopener">Wiki</a></p>
<blockquote>
<p>Play is an open source web application framework, written in Scala and Java, which follows the model–view–controller (mvc) architectural pattern. It aims to optimize developer productivity by using convention over configuration, hot code reloading and display of errors in the browser.<br>Support for the Scala programming language has been available since version 1.1 of the framework.In version 2.0, the framework core was rewritten in Scala. Build and deployment was migrated to SBT, and templates use Scala instead of Groovy.</p>
</blockquote>
<p>一个软件工程的术语<a href="https://en.wikipedia.org/wiki/Convention_over_configuration" target="_blank" rel="noopener">convention over configuration</a></p>
<blockquote>
<p>约定优于配置(convention over configuration)，也称作按约定编程，是一种软件设计范式，旨在减少软件开发人员需做决定的数量，获得简单的好处，而又不失灵活性。<br>本质是说，开发人员仅需规定应用中不符约定的部分。例如，如果模型中有个名为Sale的类，那么数据库中对应的表就会默认命名为sales。只有在偏离这一约定时，例如将该表命名为”products_sold”，才需写有关这个名字的配置。</p>
</blockquote>
<p>一开始配环境的时候，被人告知应该装一个typesafe-activator，很懵逼的是不知道这个玩意儿和Play框架有什么关系，继续google。发现typesafe这公司已经更名为<a href="https://www.lightbend.com/" target="_blank" rel="noopener">Lightbend</a>了，当然这并没有什么影响。继续看看他们的<a href="https://www.lightbend.com/activator/download" target="_blank" rel="noopener">Activator</a></p>
<blockquote>
<p>Activator is the Lightbend Reactive Platform’s build and tutorial tool</p>
</blockquote>
<p>看起来Activator是一个构建工具的样子，在<a href="https://www.playframework.com/documentation/2.5.x/Installing" target="_blank" rel="noopener">Play</a>可以看到教程，如何使用Lightbend Activator安装Play，以及一些相关的配置需求。最开始接触的Play 2.2,现在version已经到了2.5，感觉已经有点跟不上节奏了快。大致扫了一眼新版本的配置，相比之前越来越简洁了，activator也有UI界面，可以新建各个项目，当然Play项目也是可以的。<br>看了一下Lightbend的官网，这个公司做的东西也有一点意思，他们的产品Lightbend Reactive Platform包括以下几个</p>
<ul>
<li>ConductR</li>
<li>Monitoring</li>
<li>Lagom</li>
<li>Apache Spark</li>
</ul>
<p>Spark还算知道一点点，前三个完全是很陌生的东西了，随便查了一下，有这样的内容</p>
<blockquote>
<p>《Lagom：一个新的微服务框架》——Lightbend，也就是Akka背后的公司，最近发布了一款开源的微服务框架Lagom，它构建在他们的Reactive平台之上，尤其是使用了Play框架和Akka的家族产品，并添加了ConductR用于部署。</p>
</blockquote>
<p>对<a href="https://en.wikipedia.org/wiki/Typesafe_Inc." target="_blank" rel="noopener">Typesafe(Lightbend)</a>这个公司看了一下</p>
<blockquote>
<p>Typesafe (now Lightbend) is a company founded by Martin Odersky, the creator of the Scala programming language, Jonas Bonér, the creator of the Akka middleware, and Paul Phillips in 2011. It provides an Open source platform for building Reactive applications for the JVM, consisting of the Play Framework, Akka middleware and Scala programming language—with additional supporting products and development tools such as the Scala IDE for Eclipse, the Slick database query and access library for Scala and the sbt build tool. Typesafe also provides training, consulting and commercial support on the platform.<br>Typesafe is one of the main contributors of Reactive Streams.</p>
</blockquote>
<p>这里有几个点值得关注</p>
<ul>
<li>Akka: 简化并发问题的开源工具包</li>
<li>Reactive: Reactive Programming, 一种面向数据流和变化传播的编程范式</li>
<li>sbt: 构建Scala和Java项目的工具，类似于Maven和Ant</li>
</ul>
<p>言归正传，Play的工程结构这样的，MVC层次分明。<br><img src="/images/play1.png" alt="“play”"></p>
<p>在一开始配置play2.2的时候，遇到的主要的问题有</p>
<ul>
<li>集成在Intellij 13中</li>
<li>依赖的jar包很多</li>
</ul>
<p>我采用的办法是使用Activator直接new play application，再导入Intellij中。所依赖的jar包很多，只能从公司的服务器上把ivy仓库全部download下来覆盖本地。<br>后来用了intellij 14、15版本，对于Scala、playframework的集成好多了，直接装个Scala plugin，ivy一覆盖就行。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>


 </div>

        

        
      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/uploads/avatar.jpg" alt="Carl John" itemprop="image">
          <p class="site-author-name" itemprop="name">Carl John</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">46</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Carl John</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.2" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }

      motionIntegrator.bootstrap();
    });
  </script>

  
  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
