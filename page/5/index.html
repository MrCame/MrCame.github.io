<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head><meta name="generator" content="Hexo 3.9.0">
  

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">








  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5">



  
    <link href="//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  


<link rel="stylesheet" type="text/css" href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0">

<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.2">




  <meta name="keywords" content="Hexo,next">





  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2">


<meta property="og:type" content="website">
<meta property="og:title" content="Welcome to My World">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="Welcome to My World">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Welcome to My World">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'always'
  };
</script>



  <title> Welcome to My World </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Welcome to My World</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 
  <section id="posts" class="posts-expand">
    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/21/SICP-ex1-3(1)/" itemprop="url">
                  SICP 1.3节习题(1)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-21T01:13:58+08:00" content="2016-03-21">
              2016-03-21
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP解题集/" itemprop="url" rel="index">
                    <span itemprop="name">SICP解题集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="第一章-构造过程抽象"><a href="#第一章-构造过程抽象" class="headerlink" title="第一章 构造过程抽象"></a>第一章 构造过程抽象</h1><h2 id="1-3-用高阶函数做抽象"><a href="#1-3-用高阶函数做抽象" class="headerlink" title="1.3 用高阶函数做抽象"></a>1.3 用高阶函数做抽象</h2><h3 id="EX-1-29"><a href="#EX-1-29" class="headerlink" title="EX 1.29"></a>EX 1.29</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">;38页递归版本sum</span><br><span class="line">(define (sum term a next b)</span><br><span class="line">  (if (&gt; a b)</span><br><span class="line">      0</span><br><span class="line">      (+ (term a) (sum term (next a) next b))))</span><br><span class="line">(define (simpson f a b n)</span><br><span class="line">  (define h (/ (- b a) n))</span><br><span class="line">  (define (yk k) (f (+ a (* k h))))</span><br><span class="line">  (define (next k) (+ k 1))</span><br><span class="line">  (define (coefficient k)</span><br><span class="line">    (cond ((or (= k 0) (= k n)) 1)</span><br><span class="line">          ((odd? k) 4)</span><br><span class="line">          (else 2)))</span><br><span class="line">  (define (term k)</span><br><span class="line">    (* (coefficient k) (yk k)))</span><br><span class="line">  (* (sum term 0 next n) (/ h 3)))</span><br></pre></td></tr></table></figure>

<p>结果<br><img src="/images/ex1-29.png" alt="“1-29”"></p>
<h3 id="EX-1-30"><a href="#EX-1-30" class="headerlink" title="EX 1.30"></a>EX 1.30</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;sum的迭代版本</span><br><span class="line">(define (sum term a next b)</span><br><span class="line">  (define (iter a result)</span><br><span class="line">    (if (&gt; a b)</span><br><span class="line">        result</span><br><span class="line">        (iter (next a) (+ (term a) result))))</span><br><span class="line">  (iter a 0))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-31"><a href="#EX-1-31" class="headerlink" title="EX 1.31"></a>EX 1.31</h3><h4 id="a"><a href="#a" class="headerlink" title="a)"></a>a)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">;类似于sum的过程product,递归版本</span><br><span class="line">(define (product f a next b)</span><br><span class="line">  (if (&gt; a b)</span><br><span class="line">      1</span><br><span class="line">      (* (f a) (product f (next a) next b))))</span><br><span class="line">;用product定义阶乘过程factorial</span><br><span class="line">(define (factorial n)</span><br><span class="line">  (define (f x) x)</span><br><span class="line">  (define (next i) (+ i 1))</span><br><span class="line">  (product f</span><br><span class="line">           1</span><br><span class="line">           next</span><br><span class="line">           n))</span><br><span class="line">;计算pi值,首先计算每一个分数</span><br><span class="line">(define (fraction i)</span><br><span class="line">  (if (odd? i)</span><br><span class="line">      (/ (+ i 1) (+ i 2))</span><br><span class="line">      (/ (+ i 2) (+ i 1))))</span><br><span class="line">;计算pi值,n是精确度</span><br><span class="line">(define (pi n)</span><br><span class="line">  (define (next i) (+ i 1))</span><br><span class="line">  (* (product fraction 1.0 next n) 4.0))</span><br></pre></td></tr></table></figure>

<p>结果<br><img src="/images/ex1-31a.png" alt="“1-31a”"></p>
<h4 id="b"><a href="#b" class="headerlink" title="b)"></a>b)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;product的迭代版本</span><br><span class="line">(define (product f a next b)</span><br><span class="line">  (define (iter a result)</span><br><span class="line">    (if (&gt; a b)</span><br><span class="line">        result</span><br><span class="line">        (iter (next a) (* (f a) result))))</span><br><span class="line">  (iter a 1))</span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/16/play(1)/" itemprop="url">
                  Play Framework环境搭建
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-16T13:38:22+08:00" content="2016-03-16">
              2016-03-16
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/搭建环境/" itemprop="url" rel="index">
                    <span itemprop="name">搭建环境</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="Play-Framework-笔记-1"><a href="#Play-Framework-笔记-1" class="headerlink" title="Play Framework 笔记(1)"></a>Play Framework 笔记(1)</h1><p>从去年七月开始进入实验室，一直使用的就是Play Framework来进行Web开发，慢慢的应该总结一些东西，免得以后忘记。</p>
<p>先说说<a href="https://www.playframework.com/" target="_blank" rel="noopener">Play</a>这个框架吧，使用了一段时间，直观的感觉是：</p>
<ul>
<li>MVC架构很清晰，Model层针对数据封装、数据库操作，Controller层负责响应各个请求，View层主要就是一些Html的东西来呈现在浏览器上。</li>
<li>Debug之后可以在浏览器上直接看到error</li>
</ul>
<p>以下援引自<a href="https://en.wikipedia.org/wiki/Play_Framework" target="_blank" rel="noopener">Wiki</a></p>
<blockquote>
<p>Play is an open source web application framework, written in Scala and Java, which follows the model–view–controller (mvc) architectural pattern. It aims to optimize developer productivity by using convention over configuration, hot code reloading and display of errors in the browser.<br>Support for the Scala programming language has been available since version 1.1 of the framework.In version 2.0, the framework core was rewritten in Scala. Build and deployment was migrated to SBT, and templates use Scala instead of Groovy.</p>
</blockquote>
<p>一个软件工程的术语<a href="https://en.wikipedia.org/wiki/Convention_over_configuration" target="_blank" rel="noopener">convention over configuration</a></p>
<blockquote>
<p>约定优于配置(convention over configuration)，也称作按约定编程，是一种软件设计范式，旨在减少软件开发人员需做决定的数量，获得简单的好处，而又不失灵活性。<br>本质是说，开发人员仅需规定应用中不符约定的部分。例如，如果模型中有个名为Sale的类，那么数据库中对应的表就会默认命名为sales。只有在偏离这一约定时，例如将该表命名为”products_sold”，才需写有关这个名字的配置。</p>
</blockquote>
<p>一开始配环境的时候，被人告知应该装一个typesafe-activator，很懵逼的是不知道这个玩意儿和Play框架有什么关系，继续google。发现typesafe这公司已经更名为<a href="https://www.lightbend.com/" target="_blank" rel="noopener">Lightbend</a>了，当然这并没有什么影响。继续看看他们的<a href="https://www.lightbend.com/activator/download" target="_blank" rel="noopener">Activator</a></p>
<blockquote>
<p>Activator is the Lightbend Reactive Platform’s build and tutorial tool</p>
</blockquote>
<p>看起来Activator是一个构建工具的样子，在<a href="https://www.playframework.com/documentation/2.5.x/Installing" target="_blank" rel="noopener">Play</a>可以看到教程，如何使用Lightbend Activator安装Play，以及一些相关的配置需求。最开始接触的Play 2.2,现在version已经到了2.5，感觉已经有点跟不上节奏了快。大致扫了一眼新版本的配置，相比之前越来越简洁了，activator也有UI界面，可以新建各个项目，当然Play项目也是可以的。<br>看了一下Lightbend的官网，这个公司做的东西也有一点意思，他们的产品Lightbend Reactive Platform包括以下几个</p>
<ul>
<li>ConductR</li>
<li>Monitoring</li>
<li>Lagom</li>
<li>Apache Spark</li>
</ul>
<p>Spark还算知道一点点，前三个完全是很陌生的东西了，随便查了一下，有这样的内容</p>
<blockquote>
<p>《Lagom：一个新的微服务框架》——Lightbend，也就是Akka背后的公司，最近发布了一款开源的微服务框架Lagom，它构建在他们的Reactive平台之上，尤其是使用了Play框架和Akka的家族产品，并添加了ConductR用于部署。</p>
</blockquote>
<p>对<a href="https://en.wikipedia.org/wiki/Typesafe_Inc." target="_blank" rel="noopener">Typesafe(Lightbend)</a>这个公司看了一下</p>
<blockquote>
<p>Typesafe (now Lightbend) is a company founded by Martin Odersky, the creator of the Scala programming language, Jonas Bonér, the creator of the Akka middleware, and Paul Phillips in 2011. It provides an Open source platform for building Reactive applications for the JVM, consisting of the Play Framework, Akka middleware and Scala programming language—with additional supporting products and development tools such as the Scala IDE for Eclipse, the Slick database query and access library for Scala and the sbt build tool. Typesafe also provides training, consulting and commercial support on the platform.<br>Typesafe is one of the main contributors of Reactive Streams.</p>
</blockquote>
<p>这里有几个点值得关注</p>
<ul>
<li>Akka: 简化并发问题的开源工具包</li>
<li>Reactive: Reactive Programming, 一种面向数据流和变化传播的编程范式</li>
<li>sbt: 构建Scala和Java项目的工具，类似于Maven和Ant</li>
</ul>
<p>言归正传，Play的工程结构这样的，MVC层次分明。<br><img src="/images/play1.png" alt="“play”"></p>
<p>在一开始配置play2.2的时候，遇到的主要的问题有</p>
<ul>
<li>集成在Intellij 13中</li>
<li>依赖的jar包很多</li>
</ul>
<p>我采用的办法是使用Activator直接new play application，再导入Intellij中。所依赖的jar包很多，只能从公司的服务器上把ivy仓库全部download下来覆盖本地。<br>后来用了intellij 14、15版本，对于Scala、playframework的集成好多了，直接装个Scala plugin，ivy一覆盖就行。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/15/others/" itemprop="url">
                  随笔
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-15T20:30:13+08:00" content="2016-03-15">
              2016-03-15
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/生活/" itemprop="url" rel="index">
                    <span itemprop="name">生活</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="随笔"><a href="#随笔" class="headerlink" title="随笔"></a>随笔</h1><p>就记录两句话吧，“急事缓办”，“切勿交浅言深”</p>
<p>好像几年过去了还是到了这个日子会有紧张与不安，也说不清是为什么，也许更多的是内心的挣扎作祟吧。越来越多的自我怀疑，放弃一件坚持很久但却不可能的事情仿佛像是戒毒一般，刚刚狠狠下定的决心，转眼间就被抹去。然而深究这样反复不定的原因，竟然还只与自己有关，并无他人之故。每当想到这里便也释怀一些，从一开始就是自己的肆意妄为但又连累他人，沉迷于幻想之中难以自拔。</p>
<p>再次见面内心仍然会起波澜，表面上的平静如水只是掩盖了底下的波澜起伏。好奇对方的变化，关切近日的踪迹，但其实都是无济于事的，只是需要反复告诉自己这些，加深记忆吧。</p>
<p>也不知道为什么会有逃避的冲动，不敢直面，恐惧？紧张？担心？还没有分清，换而言之，问题还是不够了解自己，又关对方何事，苦笑一声便就此作罢吧。</p>
<p>还会起波澜，便是未曾放下；仍会想起，便是存于心间。可悲可叹，解铃还须系铃人，但是自己却系了死结。</p>
<p>无论是弱懦、害怕、紧张、胆怯、痴情、懒惰亦或是其他什么样子的，都是在这具肉体上所承载的，接纳自己的软肋，面对它们，内心反而更轻松一些，而这就是人，优点与缺点都很明显的生物。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/11/SICP-ex1-2(1)/" itemprop="url">
                  SICP 1.2节习题(2)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-11T15:42:13+08:00" content="2016-03-11">
              2016-03-11
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP解题集/" itemprop="url" rel="index">
                    <span itemprop="name">SICP解题集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="第一章-构造过程抽象"><a href="#第一章-构造过程抽象" class="headerlink" title="第一章 构造过程抽象"></a>第一章 构造过程抽象</h1><h2 id="1-2-过程与它们所产生的计算"><a href="#1-2-过程与它们所产生的计算" class="headerlink" title="1.2 过程与它们所产生的计算"></a>1.2 过程与它们所产生的计算</h2><h3 id="EX-1-21"><a href="#EX-1-21" class="headerlink" title="EX 1.21"></a>EX 1.21</h3><p>smallest-divisor程序如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(define (smallest-divisor n)</span><br><span class="line">	(find-divisor n 2))</span><br><span class="line">(define (find-divisor n test-divisor)</span><br><span class="line">	(cond ((&gt; (square test-divisor) n) n)</span><br><span class="line">		  ((divides? test-divisor n) test-divisor)</span><br><span class="line">		  (else (find-divisor n (+ test-divisor 1)))))</span><br><span class="line">(define (divides? a b)</span><br><span class="line">	(= (remainder b a) 0))</span><br></pre></td></tr></table></figure>

<pre><code>(smallest-divisor 199)        ;answer is 199
(smallest-divisor 1999)        ;answer is 1999
(smallest-divisor 19999)    ;answer is 7</code></pre><h3 id="EX-1-22"><a href="#EX-1-22" class="headerlink" title="EX 1.22"></a>EX 1.22</h3><p>解决这个问题，可以把问题划分成几个子问题来解决，这也是SICP这本书所教授的核心问题职业——如何将复杂问题分解</p>
<blockquote>
<p>如何生成连续奇数？<br>如何描述大于某数x的前i个素数？<br>如何判断素数？<br>如何计算程序运行时间？</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">;生成奇数</span><br><span class="line">(define (odd-generator x)</span><br><span class="line">	(if (odd? x)</span><br><span class="line">		(+ x 2)</span><br><span class="line">		(+ x 1)))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">;大于x的前i个素数</span><br><span class="line">(define (continue-prime i x)</span><br><span class="line">	(cond ((= i 0) (display &quot;These are all primes&quot;))</span><br><span class="line">		  ((prime? x)</span><br><span class="line">			(display x)</span><br><span class="line">			(newline)</span><br><span class="line">			(continue-prime (- i 1) (odd-generator x)))</span><br><span class="line">		  (else (continue-prime i (odd-generator x)))))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">;判断素数,可以采用33页最基本的方法</span><br><span class="line">(define (prime? n)</span><br><span class="line">	(define (smallest-divisor n)</span><br><span class="line">		(find-divisor n 2))</span><br><span class="line">	(define (find-divisor n test-divisor)</span><br><span class="line">		(cond ((&gt; (square test-divisor) n) n)</span><br><span class="line">			  ((divides? test-divisor n) test-divisor)</span><br><span class="line">			  (else (find-divisor n (+ test-divisor 1)))))</span><br><span class="line">	(define (divides? a b)</span><br><span class="line">		(= (remainder b a) 0))</span><br><span class="line">	(= n (smallest-divisor n)))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;运行时间计算</span><br><span class="line">;(runtime)返回的是秒,(real-time-clock)返回毫秒</span><br><span class="line">;最终的search-for程序:</span><br><span class="line">(define (search-for-primes x)</span><br><span class="line">	(let ((start-time (real-time-clock)))</span><br><span class="line">	(continue-prime 3 x)</span><br><span class="line">	(- (real-time-clock) start-time)))</span><br></pre></td></tr></table></figure>

<p>结果<br><img src="/images/ex1-22.png" alt="“1-22”"></p>
<p>结果分析放在1.24，显然并不遵循预期的结果</p>
<h3 id="EX-1-23"><a href="#EX-1-23" class="headerlink" title="EX 1.23"></a>EX 1.23</h3><p>首先定义一个新的prime过程——new prime</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(define (new-prime? n)</span><br><span class="line">	(define (next x)</span><br><span class="line">		(if (= x 2)</span><br><span class="line">		    3</span><br><span class="line">		    (+ x 2)))</span><br><span class="line">	(define (smallest-divisor n)</span><br><span class="line">		(find-divisor n 2))</span><br><span class="line">	(define (find-divisor n test-divisor)</span><br><span class="line">		(cond ((&gt; (square test-divisor) n) n)</span><br><span class="line">			  ((divides? test-divisor n) test-divisor)</span><br><span class="line">			  (else (find-divisor n (next test-divisor)))))</span><br><span class="line">	(define (divides? a b)</span><br><span class="line">		(= (remainder b a) 0))</span><br><span class="line">	(= n (smallest-divisor n)))</span><br></pre></td></tr></table></figure>

<p>然后用这个新的素数判断过程重写continue-prime</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(define (continue-newprime i x)</span><br><span class="line">	(cond ((= i 0) (display &quot;These are all primes&quot;))</span><br><span class="line">		  ((new-prime? x)</span><br><span class="line">			(display x)</span><br><span class="line">			(newline)</span><br><span class="line">			(continue-prime (- i 1) (odd-generator x)))</span><br><span class="line">		  (else (continue-prime i (odd-generator x)))))</span><br></pre></td></tr></table></figure>

<p>最后重写search-for方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(define (search-for-newprimes x)</span><br><span class="line">	(let ((start-time (real-time-clock)))</span><br><span class="line">	(continue-newprime 3 x)</span><br><span class="line">	(- (real-time-clock) start-time)))</span><br></pre></td></tr></table></figure>

<p>当然，scheme里新绑定的过程会覆盖原来的，可以局部替换为新的过程，为了更明显一些，都重写了这些过程<br>结果<br><img src="/images/ex1-23.png" alt="“1-23”"></p>
<p>结果分析放在1.24，显然也并不遵循预期的结果</p>
<h3 id="EX-1-24"><a href="#EX-1-24" class="headerlink" title="EX 1.24"></a>EX 1.24</h3><p>同1.23。使用费马定理来判断是否为素数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">(define (fast-prime? n times)</span><br><span class="line">  (define (expmod base exp m)</span><br><span class="line">    (cond ((= exp 0) 1)</span><br><span class="line">        ((even? exp)</span><br><span class="line">         (remainder (square (expmod base (/ exp 2) m)) m))</span><br><span class="line">        (else</span><br><span class="line">         (remainder (* base (expmod base (- exp 1) m)) m))))</span><br><span class="line">  (define (fermat-test n)</span><br><span class="line">    (define (try-it a)</span><br><span class="line">      (= (expmod a n n) a))</span><br><span class="line">    (try-it (+ 1 (random (- n 1)))))</span><br><span class="line">  (cond ((= times 0) true)</span><br><span class="line">        ((fermat-test n) (fast-prime? n (- times 1)))</span><br><span class="line">        (else false)))</span><br><span class="line"></span><br><span class="line">(define (expmod base exp m)</span><br><span class="line">  (cond ((= exp 0) 1)</span><br><span class="line">        ((even? exp)</span><br><span class="line">         (remainder (square (expmod base (/ exp 2) m)) m))</span><br><span class="line">        (else</span><br><span class="line">         (remainder (* base (expmod base (- exp 1) m)) m))))</span><br></pre></td></tr></table></figure>

<p>重写continue-prime和search-for</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(define (continue-fastprime i x)</span><br><span class="line">	(cond ((= i 0) (display &quot;These are all primes&quot;))</span><br><span class="line">		  ((fast-prime? x 100)</span><br><span class="line">			(display x)</span><br><span class="line">			(newline)</span><br><span class="line">			(continue-prime (- i 1) (odd-generator x)))</span><br><span class="line">		  (else (continue-prime i (odd-generator x)))))</span><br><span class="line">(define (search-for-fastprimes x)</span><br><span class="line">	(let ((start-time (real-time-clock)))</span><br><span class="line">	(continue-fastprime 3 x)</span><br><span class="line">	(- (real-time-clock) start-time)))</span><br></pre></td></tr></table></figure>

<p>结果<br><img src="/images/ex1-24.png" alt="“1-24”"></p>
<p>结果分析,1.22,1.23,1.24三个例子中，可以明显看到，随着问题复杂度的增加，用时并不按照理论耗时增长。结果可能有以下原因，机器的差异，运行环境的差异，资源的占用情况，编译器优化等等，都会影响到程序的运行速度。然而，随着复杂度逐渐加大，可以看到，复杂度更低的算法效率更高。</p>
<h3 id="EX-1-25"><a href="#EX-1-25" class="headerlink" title="EX 1.25"></a>EX 1.25</h3><p>Alyssa的程序理论上更快，但是实际操作中发现，当底数和幂都很大的时候，使用fast-expt计算速度非常慢，而且占用大量CPU资源。究其原因，书中34页的expmod程序，每一次幂的结果都会进行remainder操作，从而将幂控制在一个合理的范围内，防止溢出。</p>
<h3 id="EX-1-26"><a href="#EX-1-26" class="headerlink" title="EX 1.26"></a>EX 1.26</h3><p>显然，Louis的程序在偶次幂时，两次调用expmod。也看到有这样的分析：</p>
<pre><code>Louis的expmod使得原来的线性递归变成了具有两个分支的树形递归
计算量是原来expmod复杂度的平方，即Θ(logn)的平方，即Θ(n)
而prime?的复杂度是Θ(sqrt n)，所以比prime?还慢</code></pre><h3 id="EX-1-27"><a href="#EX-1-27" class="headerlink" title="EX 1.27"></a>EX 1.27</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">;是否同余</span><br><span class="line">(define (same-remainder? a n)</span><br><span class="line">	(= (expmod a n n) a))</span><br><span class="line"></span><br><span class="line">(define (carmichael n)</span><br><span class="line">	(iter 1 n))</span><br><span class="line">(define (iter a n)</span><br><span class="line">	(cond ((= a n) &quot;YES&quot;)</span><br><span class="line">		  ((same-remainder? a n) (iter (+ a 1) n))</span><br><span class="line">		  (else &quot;NO&quot;)))</span><br></pre></td></tr></table></figure>

<pre><code>(carmichael 561)
(carmichael 1105)
(carmichael 1729)
(carmichael 2465)
(carmichael 2821)
(carmichael 6601)</code></pre><p>以上几个数均骗过了费马检查</p>
<p>结果<br><img src="/images/ex1-27.png" alt="“1-27”"></p>
<h3 id="EX-1-28"><a href="#EX-1-28" class="headerlink" title="EX 1.28"></a>EX 1.28</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">;求一个数是否是非凡平方根,即非零非n-1的数x，x平方模n结果为1</span><br><span class="line">(define (special-square-root? x n)</span><br><span class="line">	(and (= (remainder (square x) n) 1) </span><br><span class="line">		 (not (= x 0))</span><br><span class="line">		 (not (= x (- n 1)))))</span><br><span class="line"></span><br><span class="line">;改进expmod过程,增加判断非凡平方根</span><br><span class="line">(define (expmod base exp m)</span><br><span class="line">	(cond ((= exp 0) 1)</span><br><span class="line">		  ((special-square-root? base m) 0)</span><br><span class="line">		  ((even? exp)</span><br><span class="line">			(remainder (square (expmod base (/ exp 2) m)) m))</span><br><span class="line">		  (else</span><br><span class="line">			(remainder (* (expmod base (- exp 1) m) base) m))))</span><br><span class="line"></span><br><span class="line">;随机取一个数a,并且a&lt;n</span><br><span class="line">(define (rand-smaller-than-n n)</span><br><span class="line">	(let ((x (random n)))</span><br><span class="line">	(if (not (= x 0))</span><br><span class="line">		x</span><br><span class="line">		(rand-smaller-than-n n))))</span><br><span class="line"></span><br><span class="line">;Miller-Rabin测试</span><br><span class="line">(define (miller-rabin-test n)</span><br><span class="line">	(let ((times n))</span><br><span class="line">		(define (miller-prime? n times)</span><br><span class="line">				  (cond ((= times 0) true)</span><br><span class="line">				  ((= (expmod (rand-smaller-than-n n) (- n 1) n) 1) (miller-prime? n (- times 1)))</span><br><span class="line">				  (else false)))</span><br><span class="line">		(miller-prime? n times)))</span><br></pre></td></tr></table></figure>

<pre><code>(miller-rabin-test 561)
(miller-rabin-test 1105)
(miller-rabin-test 1729)
(miller-rabin-test 2465)
(miller-rabin-test 2821)
(miller-rabin-test 6601)
(miller-rabin-test 13)
(miller-rabin-test 19)
(miller-rabin-test 23)</code></pre><p>结果<br><img src="/images/ex1-28.png" alt="“1-28”"></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/07/SICP-ex1-2/" itemprop="url">
                  SICP 1.2节习题(1)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-07T19:45:13+08:00" content="2016-03-07">
              2016-03-07
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP解题集/" itemprop="url" rel="index">
                    <span itemprop="name">SICP解题集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="第一章-构造过程抽象"><a href="#第一章-构造过程抽象" class="headerlink" title="第一章 构造过程抽象"></a>第一章 构造过程抽象</h1><h2 id="1-2-过程与它们所产生的计算"><a href="#1-2-过程与它们所产生的计算" class="headerlink" title="1.2 过程与它们所产生的计算"></a>1.2 过程与它们所产生的计算</h2><h3 id="EX-1-9"><a href="#EX-1-9" class="headerlink" title="EX 1.9"></a>EX 1.9</h3><p>过程1</p>
<pre><code>(+ 4 5)                             ——&gt;
(inc (+ 3 5))                         ——&gt;
(inc (inc (+ 2 5)))                 ——&gt;
(inc (inc (inc (+ 1 5))))             ——&gt;
(inc (inc (inc (inc (+ 0 5)))))     ——&gt;
(inc (inc (inc (inc 5))))             ——&gt;
(inc (inc (inc 6)))                 ——&gt;
(inc (inc 7))                         ——&gt;
(inc 8)                             ——&gt;
9</code></pre><p>过程2</p>
<pre><code>(+ 4 5)                ——&gt;
(+ 3 6)                ——&gt;
(+ 2 7)                ——&gt;
(+ 1 8)                ——&gt;
(+ 0 9)                ——&gt;
9</code></pre><p>明显，过程1是线性递归(Linear-Recursion)，过程2是迭代(Iteration)。如公开课(链接)Lec1b里讲到的那样，<br>对于过程1，时间复杂度和空间复杂度都随着问题规模的增大而增大</p>
<blockquote>
<p>time = O(a)<br>space = O(a)<br>对于过程2，显然空间复杂度会是一个常数(当然这也并不完全准确，随着计算的数增大，所需要的空间也在变化)<br>time = O(a)<br>space = O(1)</p>
</blockquote>
<h3 id="EX-1-10"><a href="#EX-1-10" class="headerlink" title="EX 1.10"></a>EX 1.10</h3><pre><code>(A 1 10)     ;answer is 1024
(A 2 4)        ;answer is 65536
(A 3 3)        ;answer is 65536
(define (f n) (A 0 n))        ;f(n)=2n
(define (g n) (A 1 n))        ;g(n)=2^n
(define (k n) (A 2 n))        ;k(n)=2^2^2^…… 连续求n次平方</code></pre><h3 id="EX-1-11"><a href="#EX-1-11" class="headerlink" title="EX 1.11"></a>EX 1.11</h3><pre><code>递归版本
(define (f n)
    (if (&lt; n 3)
          n
          (+ (f (- n 1)) (* 2 (f (- n 2))) (* 3 (f (- n 3))))))

迭代版本
(define (f n)
    (define (iter n a b c i)
        (if (= i n)
            c
            (iter n 
                  (+ a (* 2 b) (* 3 c))
                  a
                  b
                  (+ i 1))))
    (iter n 2 1 0 0))</code></pre><p>迭代版本需要观察<br>f(0)=0, f(1)=1, f(2)=2<br>f(3)=f(2)+2f(1)+3f(0)<br>f(4)=f(3)+2f(2)+3f(1)<br>f(5)=f(4)+2f(3)+3f(2)<br>a、b、c分别表示f(n-1) f(n-2) f(n-3)<br>这里的i，个人认为可以类比其他语言中循环语法里的计数变量i，而迭代器iter可以类比于for、while等循环</p>
<h3 id="EX-1-12"><a href="#EX-1-12" class="headerlink" title="EX 1.12"></a>EX 1.12</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(define (pascal r c)</span><br><span class="line">	(cond ((or (= r c) (= c 0)) 1)</span><br><span class="line">    	  ((&gt; c r) &quot;error&quot;)</span><br><span class="line">    	  (else (+ (pascal (- r 1) (- c 1)) (pascal (- r 1) c)))))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-13-1-14略"><a href="#EX-1-13-1-14略" class="headerlink" title="EX 1.13 1.14略"></a>EX 1.13 1.14略</h3><h3 id="EX-1-15"><a href="#EX-1-15" class="headerlink" title="EX 1.15"></a>EX 1.15</h3><pre><code>a) p将被使用五次
(sine 12.15)                        ——&gt;
(p (sine 12.15/3))                    ——&gt;
(p (p (sine 12.15/6)))                ——&gt;
(p (p (p (sine 12.15/9))))            ——&gt;
(p (p (p (p (p (sine 12.15/12)))))    ——&gt;
(p (p (p (p (p (sine 0.0514……)))))    ——&gt;
…………

b) 求值(sine a)时候，除以3.0，sine是递归程序，因此时间复杂度和空间复杂度都是O(log a)</code></pre><h3 id="EX-1-16"><a href="#EX-1-16" class="headerlink" title="EX 1.16"></a>EX 1.16</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(define (even? x)</span><br><span class="line">  (= (remainder x 2) 0))</span><br><span class="line">(define (square x)</span><br><span class="line">	(* x x))</span><br><span class="line">(define (exp b n)</span><br><span class="line">	(define (exp-iter b n p)</span><br><span class="line">		(cond ((= n 0) p)</span><br><span class="line">      		  ((even? n) (exp-iter (square b) (/ n 2) p))</span><br><span class="line">      		  (else (exp-iter b (- n 1) (* b p)))))</span><br><span class="line">	(exp-iter b n 1))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-17"><a href="#EX-1-17" class="headerlink" title="EX 1.17"></a>EX 1.17</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(define (double x)</span><br><span class="line">  (+ x x))</span><br><span class="line">(define (halve x)</span><br><span class="line">  (/ x 2))</span><br><span class="line">(define (even? x)</span><br><span class="line">  (= (remainder x 2) 0))</span><br><span class="line">(define (expt b n)</span><br><span class="line">  (cond ((= n 0) 0)</span><br><span class="line">        ((even? n) (double (expt b (halve n))))</span><br><span class="line">        (else (+ b (expt b (- n 1))))))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-18"><a href="#EX-1-18" class="headerlink" title="EX 1.18"></a>EX 1.18</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(define (double x)</span><br><span class="line">  (+ x x))</span><br><span class="line">(define (halve x)</span><br><span class="line">  (/ x 2))</span><br><span class="line">(define (even? x)</span><br><span class="line">  (= (remainder x 2) 0))</span><br><span class="line">(define (multi a b)</span><br><span class="line">  (define (multi-iter a b p)</span><br><span class="line">    (cond ((= b 0) p)</span><br><span class="line">          ((even? b) (multi-iter (double a) (halve b) p))</span><br><span class="line">          (else (multi-iter a (- b 1) (+ a p)))))</span><br><span class="line">  (multi-iter a b 0))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-19"><a href="#EX-1-19" class="headerlink" title="EX 1.19"></a>EX 1.19</h3><p>通过两次变换，可以得到<br>p’ = p^2 + q^2<br>q’ = 2pq + q^2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">(define (even? x)</span><br><span class="line">  (= (remainder x 2) 0))</span><br><span class="line">(define (fib n)</span><br><span class="line">  (define (fib-iter a b p q count)</span><br><span class="line">    (cond ((= count 0) b)</span><br><span class="line">          ((even? count)</span><br><span class="line">           (fib-iter a</span><br><span class="line">                     b</span><br><span class="line">                     (+ (square p) (square q))</span><br><span class="line">                     (+ (* 2 p q) (square q))</span><br><span class="line">                     (/ count 2)))</span><br><span class="line">          (else (fib-iter (+ (* b q) (* a q) (* a p))</span><br><span class="line">                          (+ (* b p) (* a q))</span><br><span class="line">                          p</span><br><span class="line">                          q</span><br><span class="line">                          (- count 1)))))</span><br><span class="line">  (fib-iter 1 0 0 1 n))</span><br></pre></td></tr></table></figure>

<h3 id="EX-1-20"><a href="#EX-1-20" class="headerlink" title="EX 1.20"></a>EX 1.20</h3><pre><code>正则序
(gcd 206 40)        //a=206,b=60                ——&gt;
(gcd 40 (r 206 40)) //a=40,b=6,r1=(r 206 40)    ——&gt;r1:1
(gcd r1 (r 40 r1))  //a=6,b=4,r2=(r 40 r1)        ——&gt;r2:1+1=2
(gcd r2 (r r1 r2))  //a=4,b=2,r3=(r r1 r2)        ——&gt;r3:1+1+2=4
(gcd r3 (r r2 r3))  //a=2,b=0,r4=(r r2 r3)        ——&gt;1+2+4=7
r3 = (r r1 r2)
    |
    V
(r (r 206 40) (r 40 (r 206 40))                    ——&gt;1
    |
    V
(r (r 206 40) (r 40 6))
    |
    V
(r 6 4)                                            ——&gt;2
2                                                ——&gt;1

正则序执行了1+2+4+7+1+2+1=18次remainder运算

应用序
(gcd 206 40)
(gcd 40 (r 206 40))          ——&gt;1
(gcd 40 6)
(gcd 6 (r 40 6))             ——&gt;1
(gcd 6 4)
(gcd 4 (r 6 4))              ——&gt;1
(gcd 4 2)
(gcd 2 (r 4 2))             ——&gt;1
(gcd 2 0)
2

应用序执行了1+1+1+1次remainder运算</code></pre>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/04/SICP-ex1-1/" itemprop="url">
                  SICP 1.1节习题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-04T20:01:25+08:00" content="2016-03-04">
              2016-03-04
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP解题集/" itemprop="url" rel="index">
                    <span itemprop="name">SICP解题集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="第一章-构造过程抽象"><a href="#第一章-构造过程抽象" class="headerlink" title="第一章 构造过程抽象"></a>第一章 构造过程抽象</h1><h2 id="1-1-程序设计的基本元素"><a href="#1-1-程序设计的基本元素" class="headerlink" title="1.1 程序设计的基本元素"></a>1.1 程序设计的基本元素</h2><p>ex 1.1 ~ ex 1.4都比较容易理解，就不写出结果了</p>
<h3 id="EX-1-5"><a href="#EX-1-5" class="headerlink" title="EX 1.5"></a>EX 1.5</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(define (p) (p))</span><br><span class="line"></span><br><span class="line">(define (test x y)</span><br><span class="line">  (if (= x 0)</span><br><span class="line">       0</span><br><span class="line">       y))</span><br></pre></td></tr></table></figure>

<p>求值</p>
<pre><code>(test 0 (P))</code></pre><p>分析：</p>
<blockquote>
<p>采用应用序，先求参数值再应用， (p)无限递归调用自身，编译器停滞<br>采用正则序，先展开后规约求值，实参0和(p)不会先求值，解释到if之后，返回0</p>
</blockquote>
<h3 id="EX-1-6"><a href="#EX-1-6" class="headerlink" title="EX 1.6"></a>EX 1.6</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(define (new-if predicate then-clause else-clause)</span><br><span class="line">  (cond (predicate then-clause)</span><br><span class="line">        (else else-clause)))</span><br></pre></td></tr></table></figure>

<p>对于这个程序题中演示的使用</p>
<pre><code>(new-if (= 2 3) 0 5)
(new-if (= 1 1) 0 5)</code></pre><p>都是没错的，但若用来重写sqrt程序的话<br><img src="/images/ex1-6.png" alt="“error”"></p>
<p>分析：错误原因是超过递归最大深度<br><strong>new-if</strong> 作为定义的一个过程，由于scheme采用应用序，先求参数值再应用，调用顺序<br>*<em>sqrt-iter -&gt; new-if -&gt; cond -&gt; sqrt-iter -&gt; new-if -&gt; …… -&gt; *</em> 最终超出栈最大深度</p>
<h3 id="EX-1-7"><a href="#EX-1-7" class="headerlink" title="EX 1.7"></a>EX 1.7</h3><p>原始程序<br><img src="/images/ex1-7-1.png" alt="“很大的数”"><br><img src="/images/ex1-7-2.png" alt="“很小的数”"><br>当数字很大时，程序跑不动，当数字很小时，结果错误</p>
<p>修改过程<strong>good-enough</strong>为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(define (good-enough? guess x)</span><br><span class="line">	(&lt; </span><br><span class="line">	  (/ (abs (- x guess)) guess) </span><br><span class="line">	  0.001))</span><br></pre></td></tr></table></figure>

<p>对于很大和很小的数字都可以计算平方根</p>
<h3 id="EX-1-8"><a href="#EX-1-8" class="headerlink" title="EX 1.8"></a>EX 1.8</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(define (square x)</span><br><span class="line">  (* x x))</span><br><span class="line">(define (cube x)</span><br><span class="line">  (* x x x))</span><br><span class="line">(define (cube-root x)</span><br><span class="line">  (define (good-enough? guess)</span><br><span class="line">    (&lt; (abs (- (cube guess) x)) 0.001))</span><br><span class="line">  (define (improve guess)</span><br><span class="line">    (/ (+ (/ x (square guess)) (* 2 guess)) 3))</span><br><span class="line">  (define (cube-iter guess)</span><br><span class="line">    (if (good-enough? guess)</span><br><span class="line">        guess</span><br><span class="line">        (cube-iter (improve guess))))</span><br><span class="line">  (cube-iter 1.0))</span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/04/SICP1/" itemprop="url">
                  《计算机程序的解释和构造(SICP)》 (1)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-04T18:09:43+08:00" content="2016-03-04">
              2016-03-04
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SICP/" itemprop="url" rel="index">
                    <span itemprop="name">SICP</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>最近开始看SICP这本神书，先草草看了前三章半，看了一点题目，最近开始跟着两位作者的公开课学习。先说一下对这本书的整体感觉吧，抽象程度比较高，对于计算机程序的理解不再停留于语法的层面，而是剖开现象看本质，探讨计算机程序的本质内容——具象化人的思维。</p>
<p>如作者所言，对CS而言，关键在于</p>
<blockquote>
<p>Techniques for controlling the complexity of large system —— 控制大型系统中的复杂度</p>
</blockquote>
<p>而这，也是这本书所讨论的核心问题，如何降低复杂度，一层一层抽象过程，简化难度。概括下来方法有以下三点：</p>
<blockquote>
<ol>
<li>Black-box abstraction ——黑盒抽象</li>
<li>Establishing conventional interfaces ——按约定实现接口</li>
<li>making new languages ——定义新的语言</li>
</ol>
</blockquote>
<p>而以上三点，也对应了书中前四章的内容，在控制复杂度的过程中，必然涉及到程序架构的问题，作者也给出了两个方向，operations on aggregates (stream)——聚集操作，和著名的object-oriented——面向对象。也许是因为MIT的CS专业是和EE紧密相连的，各种电气系统的概念总能看到。</p>
<p>OO编程中，各对象通过消息传递进行联系，也联想到OS里的信号量机制(伟大的Dijkstra)，对于流操作，作者又将其类比于大型电气系统，因为我本科也是EE的，对信号与系统，滤波器这些概念听起来还有些怀念。越发佩服这些作者融会贯通的能力。</p>
<p>另外一个收获是对于一种新语言的思考</p>
<blockquote>
<p>General framework ——利用通用框架体系组织语言</p>
</blockquote>
<p>对于新语言，探究</p>
<blockquote>
<ol>
<li>Primitive Elements ——基本元素</li>
<li>How to put together ——组合元素</li>
<li>Means of abstraction ——如何抽象(黑盒)</li>
</ol>
</blockquote>
<p>而以上的这些，都是之前的书本没有了解到的，站在一个新的角度重新思考了计算机程序</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2015/05/05/hello-world/" itemprop="url">
                  Hello World
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-05-05T00:15:02+08:00" content="2015-05-05">
              2015-05-05
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Hexo/" itemprop="url" rel="index">
                    <span itemprop="name">Hexo</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<p>2019-05-07 comeback!</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span>
  </nav>


 </div>

        

        
      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/uploads/avatar.jpg" alt="Carl John" itemprop="image">
          <p class="site-author-name" itemprop="name">Carl John</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">48</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Carl John</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.2" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }

      motionIntegrator.bootstrap();
    });
  </script>

  
  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
